\documentclass[12pt,a4paper,oldfontcommands,openright]{memoir}

\usepackage{amsmath}
\usepackage[font=bf]{caption}
\usepackage{fancyhdr}
\usepackage[hidelinks]{hyperref}
\usepackage[left=30mm,right=30mm,top=30mm,bottom=30mm]{geometry}
\usepackage{listings}
\usepackage{multirow}
\usepackage{paralist}
\usepackage{pdfpages}
\usepackage{pifont}
\usepackage{subcaption}
\usepackage{tikz}
\usepackage{titlesec}
\usepackage{url}
\usepackage{wrapfig}
\usepackage{xspace}

% configure header and footer
\pagestyle{fancy}
\fancyhead[LE,CE,RE,RO,CO,LO]{} % remove everything
\fancyhead[RO]{\scriptsize\rightmark} % section name
\fancyhead[LE]{\scriptsize\leftmark} % chapter name
\fancyfoot[C]{\thepage} % page number

% set spacing between lines
\linespread{1.2}

% redefine chapter title
\titleformat{\chapter}[hang]{\vspace*{-6em}\Huge\bfseries}{\thechapter.{ }}{1pt}{\Huge\bfseries}

% use numbers to represent subsections and add them to the table of
% contents
\maxsecnumdepth{subsection}
\maxtocdepth{subsection}

\begin{document}
\sloppy

% ------------------- FRONT PAGE ------------------ %

\includepdf[fitpaper=true, pages=-]{chapters/frontpage/frontpage.pdf}
\cleardoublepage

% -------------- ACKNOWLEDGMENTS ------------ %

\section*{{\em Acknowledgments}}
\label{chap:acknowledgments}
\input{chapters/acks.tex}
\thispagestyle{empty}
\cleardoublepage

% -------------------- DEDICATION ------------------- %

% \thispagestyle{empty}
% \vspace*{\stretch{1}}
% \begin{flushleft}
% 	\itshape To my family\\
% \end{flushleft}
% \vspace{\stretch{2}}
% \cleardoublepage

% --------------- GENERAL MACROS ---------------- %

\newcommand{\seapp}{SEApp\xspace}
\newcommand{\sel}{SELinux\xspace}
\newcommand{\sea}{SEAndroid\xspace}
\newcommand{\dmng}{Dmng\xspace}
\newcommand{\natisand}{NatiSand\xspace}

% ---------------- HIPHENATIONS ----------------- %

% seapp
\hyphenation{iso-lat-ed-process}
\hyphenation{Pack-age-Man-ag-er-Ser-vice}
\hyphenation{SE-Li-nux-MMAC}
\hyphenation{Ac-tiv-i-ty-Man-ag-er-Ser-vice}
\hyphenation{Iso-lat-ed-Ser-vice}

% wasm
\hyphenation{Web-Ass-em-bly}
\hyphenation{stand-a-lone}

% ------------------- ABSTRACT ------------------ %

\pagenumbering{arabic}

\chapter*[Abstract]{Abstract}
\addcontentsline{toc}{chapter}{Abstract}

\input{chapters/abstract.tex}
\thispagestyle{empty}
\cleardoublepage

% --------------- TABLE OF CONTENTS --------------- %

\renewcommand{\contentsname}{\vspace*{-3em} Table of Contents}
\renewcommand{\listfigurename}{\vspace*{-3em} List of Figures}
\renewcommand{\listtablename}{\vspace*{-3em} List of Tables}

% The asterisk prevents these from showing up in the ToC
\tableofcontents*
\thispagestyle{empty}
\cleardoublepage

\listoffigures*
\thispagestyle{empty}
\cleardoublepage

\listoftables*
\thispagestyle{empty}
\cleardoublepage

% -------------------- CONTENTS ------------------- %

\chapter[Introduction]{Introduction}
\label{chap:intro}
\input{chapters/introduction.tex}

\chapter[Fine-grained Access Control in Android Applications]{Fine-grained Access Control in \\ Android Applications}
\label{chap:seapp}
\input{chapters/seapp.tex}

\chapter[Lightweight Cloud Application Sandboxing]{Lightweight Cloud Application \\ Sandboxing}
\label{chap:dmng}
\input{chapters/dmng.tex}

\chapter[Enhancing the Sandbox of WebAssembly Runtimes]{Enhancing the Sandbox of \\ WebAssembly Runtimes}
\label{chap:wasm}
\input{chapters/wasm.tex}

\chapter[Native Code Sandboxing for JavaScript Runtimes]{Native Code Sandboxing for \\ JavaScript Runtimes}
\label{chap:natisand}
\input{chapters/natisand.tex}

\chapter[Conclusions and future work]{Conclusions and future work}
\label{chap:conclusions}
\input{chapters/conclusions.tex}

% -------------------- APPENDIX ------------------- %

\appendix

% seapp appendix
\input{chapters/seapp/sects/appendix.tex}
% natisand appendix
\input{chapters/natisand/src/appendix.tex}

% ------------------ BIBLIOGRAPHY ----------------- %

\bibliographystyle{abbrv}
\renewcommand\bibname{References}
\bibliography{biblio.bib}

\end{document}
